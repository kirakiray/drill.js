//! drill.js - v5.0.6 https://github.com/kirakiray/drill.js  (c) 2018-2023 YAO
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).lm=t()}(this,(function(){"use strict";const e={},t=(t,n)=>{if(t instanceof Function&&(n=t,t=["js","mjs"]),t instanceof Array)return void t.forEach((t=>{(e[t]||(e[t]=[])).push(n)}));(e[t]||(e[t]=[])).push(n)};t(["mjs","js"],(({url:e,params:t})=>{const n=new URL(e);return t.includes("-direct")?import(e):import(`${n.origin}${n.pathname}`)})),t(["txt","html"],(({url:e})=>fetch(e).then((e=>e.text())))),t("json",(async({url:e})=>fetch(e).then((e=>e.json())))),t("wasm",(async({url:e})=>{const t=await fetch(e).then((e=>e.arrayBuffer())),n=await WebAssembly.compile(t);return new WebAssembly.Instance(n).exports}));const n=Symbol("loaded"),s=async(t,s)=>{const i=new URL(t),{pathname:r}=i,o=r.slice(2+(r.lastIndexOf(".")-1>>>0));let c;const l=e[o];if(l)for(let e of l){const n=await e({url:t,data:c,...s});void 0!==n&&(c=n)}else c=fetch(t);if(s&&s.element){const{element:e}=s;e[n]=!0;const t=new Event("load");e.dispatchEvent(t)}return c};function i(e){return(e=>(e||(e={url:document.location.href}),t=>{let n="";const[i,...r]=t.split(" ");if(e.resolve)n=e.resolve(i);else{const t=new URL(e.url);n=new URL(i,t).href}return s(n,{params:r})}))(e)}Object.assign(i,{use:t});class r extends HTMLElement{constructor(...e){super(...e),this[n]=!1,Object.defineProperties(this,{loaded:{get:()=>this[n]}}),this._init()}_init(){if(this.__initSrc||this.attributes.hasOwnProperty("pause"))return;let e=this.getAttribute("src");if(!e)return;this.__initSrc=e,e=new URL(e,location.href).href,Object.defineProperties(this,{src:{configurable:!0,value:e}});const[t,...n]=e.split(" ");s(t,{element:this,params:n})}attributeChangedCallback(e,t,n){"src"===e?n&&null===t?this._init():this.__initSrc&&t&&n!==this.__initSrc&&(console.warn(`${this.tagName.toLowerCase()} change src is invalid, only the first change will be loaded`),this.setAttribute("src",this.__initSrc)):"pause"===e&&null===n&&this._init()}static get observedAttributes(){return["src","pause"]}}return customElements.define("load-module",r),customElements.define("l-m",class extends r{constructor(...e){super(...e)}}),"undefined"!=typeof window&&(window.lm=i),i}));
//# sourceMappingURL=drill.min.js.map
